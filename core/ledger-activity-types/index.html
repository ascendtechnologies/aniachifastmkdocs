<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Dynamic Activity Types for Ledger System - fastapibase</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Dynamic Activity Types for Ledger System";
        var mkdocs_page_input_path = "core/ledger-activity-types.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> fastapibase
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../__about__/">About</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../constants/">Constants</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting-started/installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting-started/quickstart/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting-started/configuration/">Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../config/">Configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Core</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../limiter/">Limiter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Models</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../models/auth/">Auth Models</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../models/admin/">Admin Models</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../models/database/">Database Models</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../models/requests/">Request Models</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../models/responses/">Response Models</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../models/activity_types_helper/">Activity Types Helper</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../models/cloud_files/">Cloud Files</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../models/email/">Email</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../models/ledger/">Ledger</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../models/os_process/">Os Process</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../models/roles/">Roles</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Cache</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../cache/redis/">Redis Implementation</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Databases</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../databases/overview/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../databases/rds-connection/">RDS Connection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../databases/rds-helper/">RDS Helper</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../databases/opensearch/">OpenSearch</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Rds</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >Queries</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../databases/rds/queries/base_impl/">Base Impl</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../databases/rds/queries/db_factory/">Db Factory</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../databases/rds/queries/db_interface/">Db Interface</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../databases/rds/queries/mysql_impl/">Mysql Impl</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../databases/rds/queries/posgresql_impl/">Posgresql Impl</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Async Helpers</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../async_helpers/ledger_helper/">Ledger Helper</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../async_helpers/email_helper/">Email Helper</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../async_helpers/uploader_helper/">Uploader Helper</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../async_helpers/email_helper/">Email Helper</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../async_helpers/ledger_helper/">Ledger Helper</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../async_helpers/upload_helper/">Upload Helper</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >HTTP</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../http/errors/">Error Handling</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../http/responses/">Response Envelopes</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Cloud Services</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../cloudsrv/helpers/">Helpers</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Concurrency</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../concurrency/executors/">Executors</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Http</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >Responses</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../http/responses/api_envelope_abc/">Api Envelope Abc</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../http/responses/api_envelope_v1/">Api Envelope V1</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../http/responses/api_envelope_v2/">Api Envelope V2</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../http/responses/default_error_responses/">Default Error Responses</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Ledgers</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >Backends</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../ledgers/backends/dynamo_single_impl/">Dynamo Single Impl</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../ledgers/backends/postgresql_single_impl/">Postgresql Single Impl</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Mail</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >Backends</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../mail/backends/gmail_impl/">Gmail Impl</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Queues</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../queues/email_q/">Email Q</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../queues/ledger_q/">Ledger Q</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../queues/uploader_q/">Uploader Q</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Storage</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >Backends</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../storage/backends/alicloud_impl/">Alicloud Impl</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../storage/backends/aws_s3_impl/">Aws S3 Impl</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../storage/backends/azure_impl/">Azure Impl</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../storage/backends/digital_impl/">Digital Impl</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../storage/backends/gcp_impl/">Gcp Impl</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../storage/backends/local_fs_impl/">Local Fs Impl</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../storage/backends/minio_impl/">Minio Impl</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../storage/backends/protocols/">Protocols</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Authentication</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../auth/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../auth/auth_interface/">Auth Interface</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../auth/auth_factory/">Auth Factory</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../auth/auth_dependency/">Auth Dependency</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../auth/cognito_auth/">Cognito Auth</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../auth/database_auth/">Database Auth</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../auth/dependencies/">Dependencies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../auth/role_dependencies/">Role Dependencies</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Admin Tools</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../admin_tools/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../admin_tools/user_management/">User Management</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../admin_tools/ledger_management_dynamodb/">Ledger Management Dynamodb</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../admin_tools/ledger_management_psql/">Ledger Management Psql</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../admin_tools/ledger_protocol/">Ledger Protocol</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Middlewares</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../middlewares/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../middlewares/cors/">CORS Middleware</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../middlewares/context/">Context Middleware</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../middlewares/logging/">Logging Middleware</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../middlewares/prometheus/">Prometheus Middleware</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Services</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../services/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../services/auth_response/">Auth Responses</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../services/admin_users_response/">Admin Users Response</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../services/common_responses/">Common Responses</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../services/core_responses/">Core Responses</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../services/database_responses/">Database Responses</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../services/health_responses/">Health Responses</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../services/ip_responses/">IP Responses</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../services/process_responses/">Process Responses</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../services/utils_response/">Utils Response</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../services/ledger_responses/">Ledger Responses</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../services/roles_response/">Roles Response</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tools & Utilities</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/dependencies/">Dependencies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/dependencies_utils/">Dependencies Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/string_utils/">String Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/time_utils/">Time Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/files_utils/">File Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/net_utils/">Network Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/os_utils/">OS Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/secure_utils/">Security Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/image_utils/">Image Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/pdf_utils/">PDF Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/html_utils/">HTML Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/html_css_utils/">HTML CSS Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/md_utils/">Markdown Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/media_utils/">Media Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/mem_utils/">Memory Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/process_utils/">Process Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/geo_ip_utils/">GeoIP Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/brand_utils/">Brand Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/browser_utils/">Browser Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/logging_utils/">Logging Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/print_utils/">Print Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/protocol_utils/">Protocol Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/req_ctx_utils/">Request Context Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/responses_clases/">Response Classes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/xmp_utils/">XMP Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Decorators</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../tools/decorators/cache/">Cache Decorator</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../tools/decorators/singleton/">Singleton Decorator</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Types</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../tools/types/request_types/">Request Types</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../tools/types/response_types/">Response Types</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../tools/types/available_formats/">Available Formats</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/dynamic_import_utilities/">Dynamic Import Utilities</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Images</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../tools/images/filters/">Filters</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/response_multi_format/">Response Multi Format</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tools/role_utils/">Role Utils</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../info/">Info</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">API</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../api/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >WebSocket</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/ws/commons/">Commons WS</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/ws/health/">Health WS</a>
                </li>
    </ul>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../api-reference/">API Reference</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">fastapibase</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Dynamic Activity Types for Ledger System</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="dynamic-activity-types-for-ledger-system">Dynamic Activity Types for Ledger System</h1>
<p>The ledger system uses dynamic activity types that are configured through application settings and validated at runtime. This approach provides flexibility while maintaining type safety.</p>
<h2 id="overview">Overview</h2>
<p>Activity types are defined as a comma-separated string in the configuration and automatically converted to a Python enum for validation. This allows you to:</p>
<ul>
<li>Add or remove activity types without code changes</li>
<li>Maintain type safety and validation</li>
<li>Have consistent activity naming across the application</li>
<li>Generate documentation automatically</li>
</ul>
<h2 id="configuration">Configuration</h2>
<p>Activity types are configured in the <code>LEDGER_ACTIVITY_TYPES</code> setting:</p>
<pre><code class="language-python"># In settings
LEDGER_ACTIVITY_TYPES: str = (
    'login_attempt,login_success,login_failed,'
    'user_registration,user_activation,user_deactivation,'
    'password_reset_request,password_reset_success,'
    'profile_update,email_change,username_change,'
    'account_locked,account_unlocked,'
    'token_generated,token_validated,token_expired,'
    'api_access,unauthorized_access,permission_denied,'
    'data_export,data_import,file_upload,file_download,'
    'system_maintenance,admin_action,audit_log'
)
</code></pre>
<h2 id="usage">Usage</h2>
<h3 id="creating-activity-payloads">Creating Activity Payloads</h3>
<pre><code class="language-python">from aniachifast.core.models.ledger import ActivityPayload

# Valid activity - will work
payload = ActivityPayload(
    user_id=&quot;user123&quot;,
    activity=&quot;login_attempt&quot;,  # Must be in configured list
    ip_address=&quot;192.168.1.1&quot;
)

# Invalid activity - will raise ValidationError
try:
    invalid_payload = ActivityPayload(
        user_id=&quot;user123&quot;,
        activity=&quot;invalid_activity&quot;  # Not in configured list
    )
except ValidationError as e:
    print(f&quot;Validation failed: {e}&quot;)
</code></pre>
<h3 id="working-with-activity-types-enum">Working with Activity Types Enum</h3>
<pre><code class="language-python">from aniachifast.core.models.activity_types import get_activity_types_enum

# Get the dynamically generated enum
ActivityTypes = get_activity_types_enum()

# Access enum members
print(ActivityTypes.LOGIN_ATTEMPT.value)  # 'login_attempt'
print(ActivityTypes.USER_REGISTRATION.value)  # 'user_registration'

# Iterate over all activity types
for activity_type in ActivityTypes:
    print(f&quot;{activity_type.name} = {activity_type.value}&quot;)
</code></pre>
<h3 id="validation-utilities">Validation Utilities</h3>
<pre><code class="language-python">from aniachifast.core.models.activity_types import (
    validate_activity_type,
    get_valid_activity_types
)

# Check if an activity type is valid
if validate_activity_type('login_attempt'):
    print(&quot;Valid activity type&quot;)

# Get all valid activity types
valid_types = get_valid_activity_types()
print(f&quot;Valid types: {valid_types}&quot;)
</code></pre>
<h2 id="how-it-works">How It Works</h2>
<ol>
<li><strong>Configuration Parsing</strong>: The comma-separated string is parsed into individual activity types</li>
<li><strong>Enum Generation</strong>: A dynamic enum is created with uppercase member names and lowercase values</li>
<li><strong>Caching</strong>: The enum is cached using <code>@lru_cache</code> for performance</li>
<li><strong>Validation</strong>: Pydantic field validator checks activity types against the enum</li>
</ol>
<h3 id="naming-conventions">Naming Conventions</h3>
<ul>
<li><strong>Configuration</strong>: lowercase with underscores (<code>login_attempt</code>)</li>
<li><strong>Enum Members</strong>: uppercase with underscores (<code>LOGIN_ATTEMPT</code>)</li>
<li><strong>Enum Values</strong>: lowercase with underscores (<code>login_attempt</code>)</li>
</ul>
<h2 id="adding-new-activity-types">Adding New Activity Types</h2>
<p>To add new activity types:</p>
<ol>
<li>Update the <code>LEDGER_ACTIVITY_TYPES</code> setting in your configuration</li>
<li>Restart the application (the enum is cached)</li>
<li>The new activity types will be automatically available</li>
</ol>
<p>Example:</p>
<pre><code class="language-python"># Add 'custom_activity' to the configuration
LEDGER_ACTIVITY_TYPES = 'login_attempt,user_registration,custom_activity'
</code></pre>
<h2 id="error-handling">Error Handling</h2>
<p>When an invalid activity type is used, a detailed error message is provided:</p>
<pre><code>ValidationError: Activity type &quot;invalid_activity&quot; is not valid.
Valid types are: login_attempt, login_success, login_failed, ...
</code></pre>
<h2 id="best-practices">Best Practices</h2>
<ol>
<li><strong>Consistent Naming</strong>: Use lowercase with underscores</li>
<li><strong>Descriptive Names</strong>: Make activity types self-explanatory</li>
<li><strong>Logical Grouping</strong>: Group related activities together in configuration</li>
<li><strong>Documentation</strong>: Document what each activity type represents</li>
</ol>
<h2 id="performance-considerations">Performance Considerations</h2>
<ul>
<li>The enum is generated once and cached using <code>@lru_cache</code></li>
<li>Validation is fast as it uses enum membership checking</li>
<li>No runtime overhead after initial enum generation</li>
</ul>
<h2 id="testing">Testing</h2>
<p>The system includes comprehensive tests for:
- Enum generation from configuration
- Validation of valid and invalid activity types
- Pydantic model integration
- Error handling</p>
<p>Run tests with:</p>
<pre><code class="language-bash">pytest tests/unit/core/models/test_activity_types.py
pytest tests/unit/core/models/test_ledger.py
</code></pre>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
